{
  "openapi": "3.0.0",
  "info": {
    "title": "API Documentation",
    "version": "1.0.0",
    "description": "This is the OpenAPI specification for your project."
  },
  "servers": [
    {
      "url": "http://localhost:3000/api",
      "description": "Local development server"
    }
  ],
  "components": {
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "NestedSchema": {
        "type": "object",
        "properties": {
          "foo": {
            "$ref": "#/components/schemas/BaseSchema"
          },
          "bar": {
            "type": "string"
          }
        },
        "required": [
          "foo",
          "bar"
        ]
      },
      "ExtendedSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Identifier"
          },
          "name": {
            "type": "string",
            "description": "Name"
          }
        },
        "required": [
          "id",
          "name"
        ]
      },
      "DoubleExtendedSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Identifier"
          },
          "name": {
            "type": "string",
            "description": "Name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "Email address"
          },
          "age": {
            "type": "integer",
            "minimum": 0,
            "exclusiveMinimum": true,
            "description": "Age in years"
          }
        },
        "required": [
          "id",
          "name",
          "email"
        ]
      },
      "ApiResponseSchema": {
        "type": "object",
        "discriminator": {
          "propertyName": "status"
        },
        "oneOf": [
          {
            "$ref": "#/components/schemas/SuccessResponseSchema"
          },
          {
            "$ref": "#/components/schemas/ErrorResponseSchema"
          }
        ]
      },
      "NotificationSchema": {
        "type": "object",
        "discriminator": {
          "propertyName": "type"
        },
        "oneOf": [
          {
            "$ref": "#/components/schemas/EmailNotificationSchema"
          },
          {
            "$ref": "#/components/schemas/SmsNotificationSchema"
          },
          {
            "$ref": "#/components/schemas/PushNotificationSchema"
          }
        ]
      },
      "OrdersQueryParams": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "minimum": 0,
            "exclusiveMinimum": true,
            "default": 1,
            "description": "Page number"
          },
          "limit": {
            "type": "integer",
            "minimum": 0,
            "exclusiveMinimum": true,
            "maximum": 100,
            "default": 20,
            "description": "Results per page"
          },
          "status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/OrderStatusSchema"
              }
            ],
            "description": "Filter by status"
          },
          "dateFrom": {
            "type": "string",
            "format": "date-time",
            "description": "Filter orders from date"
          },
          "dateTo": {
            "type": "string",
            "format": "date-time",
            "description": "Filter orders to date"
          },
          "sort": {
            "type": "string",
            "enum": [
              "date_asc",
              "date_desc",
              "total_asc",
              "total_desc"
            ],
            "default": "date_desc",
            "description": "Sort results"
          }
        }
      },
      "OrdersResponse": {
        "type": "object",
        "properties": {
          "orders": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrderSchema"
            },
            "description": "List of orders"
          },
          "pagination": {
            "type": "object",
            "properties": {
              "total": {
                "type": "integer",
                "minimum": 0,
                "description": "Total number of orders"
              },
              "pages": {
                "type": "integer",
                "minimum": 0,
                "exclusiveMinimum": true,
                "description": "Total number of pages"
              },
              "page": {
                "type": "integer",
                "minimum": 0,
                "exclusiveMinimum": true,
                "description": "Current page"
              },
              "limit": {
                "type": "integer",
                "minimum": 0,
                "exclusiveMinimum": true,
                "description": "Results per page"
              }
            },
            "required": [
              "total",
              "pages",
              "page",
              "limit"
            ],
            "description": "Pagination information"
          }
        },
        "required": [
          "orders",
          "pagination"
        ]
      },
      "CreateOrderBody": {
        "type": "object",
        "properties": {
          "cartId": {
            "type": "string",
            "format": "uuid",
            "description": "Cart ID"
          },
          "shippingAddressId": {
            "type": "integer",
            "description": "ID of shipping address from user profile"
          },
          "billingAddressId": {
            "type": "integer",
            "description": "ID of billing address from user profile"
          },
          "shippingAddress": {
            "type": "object",
            "description": "New shipping address"
          },
          "billingAddress": {
            "type": "object",
            "description": "New billing address"
          },
          "useShippingAsBilling": {
            "type": "boolean",
            "default": true,
            "description": "Use shipping address as billing address"
          },
          "paymentMethodId": {
            "type": "integer",
            "description": "ID of saved payment method"
          },
          "paymentMethod": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PaymentMethodSchema"
              }
            ],
            "description": "New payment method"
          },
          "notes": {
            "type": "string",
            "description": "Additional order notes"
          }
        },
        "required": [
          "cartId"
        ]
      },
      "OrderSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Order ID"
          },
          "userId": {
            "type": "string",
            "format": "uuid",
            "description": "User ID"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CartItemSchema"
            },
            "description": "Purchased products"
          },
          "shippingAddress": {
            "allOf": [
              {
                "$ref": "#/components/schemas/AddressSchema"
              }
            ],
            "description": "Shipping address"
          },
          "billingAddress": {
            "allOf": [
              {
                "$ref": "#/components/schemas/AddressSchema"
              }
            ],
            "description": "Billing address (can be the same as shipping address)"
          },
          "paymentMethod": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PaymentMethodSchema"
              }
            ],
            "description": "Payment method"
          },
          "status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/OrderStatusSchema"
              }
            ],
            "description": "Order status"
          },
          "subtotal": {
            "type": "number",
            "minimum": 0,
            "description": "Subtotal (without discount and shipping)"
          },
          "discountAmount": {
            "type": "number",
            "minimum": 0,
            "default": 0,
            "description": "Discount amount"
          },
          "shippingCost": {
            "type": "number",
            "minimum": 0,
            "description": "Shipping cost"
          },
          "tax": {
            "type": "number",
            "minimum": 0,
            "description": "Tax"
          },
          "total": {
            "type": "number",
            "minimum": 0,
            "description": "Total amount"
          },
          "notes": {
            "type": "string",
            "description": "Additional notes"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Order creation date"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Last update date"
          },
          "paymentDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "Payment date"
          },
          "shippingDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "Shipping date"
          },
          "deliveryDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "Delivery date"
          }
        },
        "required": [
          "id",
          "userId",
          "items",
          "shippingAddress",
          "billingAddress",
          "paymentMethod",
          "status",
          "subtotal",
          "discountAmount",
          "shippingCost",
          "tax",
          "total",
          "createdAt",
          "updatedAt",
          "paymentDate",
          "shippingDate",
          "deliveryDate"
        ]
      },
      "OrderIdParams": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Order ID"
          }
        },
        "required": [
          "id"
        ]
      },
      "UpdateOrderStatusBody": {
        "type": "object",
        "properties": {
          "status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/OrderStatusSchema"
              }
            ],
            "description": "New order status"
          },
          "notes": {
            "type": "string",
            "description": "Additional notes about the status change"
          }
        },
        "required": [
          "status"
        ]
      },
      "ProductQueryParams": {
        "type": "object",
        "properties": {
          "include_variants": {
            "type": "boolean",
            "description": "Whether to include product variants"
          },
          "currency": {
            "type": "string",
            "enum": [
              "USD",
              "EUR",
              "PLN"
            ],
            "default": "USD",
            "description": "Currency for prices"
          }
        },
        "required": [
          "currency"
        ]
      },
      "ProductIdParams": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique product identifier"
          }
        },
        "required": [
          "id"
        ]
      },
      "ProductResponseSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique product identifier"
          },
          "name": {
            "type": "string",
            "minLength": 3,
            "description": "Product name"
          },
          "description": {
            "type": "string",
            "description": "Product description"
          },
          "price": {
            "type": "number",
            "minimum": 0,
            "exclusiveMinimum": true,
            "description": "Base product price"
          },
          "image_url": {
            "type": "string",
            "format": "uri",
            "description": "URL to main product image"
          },
          "gallery": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uri"
            },
            "description": "Product image gallery"
          },
          "categories": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProductCategorySchema"
            },
            "description": "Product categories"
          },
          "variants": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProductVariantSchema"
            },
            "description": "Product variants"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Product creation date"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "Product last update date"
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "published",
              "archived"
            ],
            "description": "Product status"
          },
          "average_rating": {
            "type": "number",
            "minimum": 0,
            "maximum": 5,
            "description": "Average product rating"
          }
        },
        "required": [
          "id",
          "name",
          "price",
          "gallery",
          "categories",
          "created_at",
          "updated_at",
          "status"
        ]
      },
      "UpdateProductSchema": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 3,
            "description": "Product name"
          },
          "description": {
            "type": "string",
            "description": "Product description"
          },
          "price": {
            "type": "number",
            "minimum": 0,
            "exclusiveMinimum": true,
            "description": "Base product price"
          },
          "image_url": {
            "type": "string",
            "format": "uri",
            "description": "URL to main product image"
          },
          "gallery": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uri"
            },
            "description": "Product image gallery"
          },
          "category_ids": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Product category identifiers"
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "published",
              "archived"
            ],
            "description": "Product status"
          }
        }
      },
      "UploadFormDataSchema": {
        "type": "object",
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "description": "Image file (PNG/JPG, max 5MB)"
          },
          "description": {
            "type": "string",
            "description": "Optional file description"
          },
          "category": {
            "type": "string",
            "minLength": 1,
            "description": "File category (required)"
          }
        },
        "required": [
          "file",
          "category"
        ]
      },
      "UploadResponseSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Upload ID"
          },
          "filename": {
            "type": "string",
            "description": "Original filename"
          },
          "size": {
            "type": "number",
            "description": "File size in bytes"
          },
          "type": {
            "type": "string",
            "description": "MIME type"
          },
          "url": {
            "type": "string",
            "format": "uri",
            "description": "File access URL"
          },
          "category": {
            "type": "string",
            "description": "File category"
          },
          "description": {
            "type": "string",
            "description": "File description"
          },
          "uploadedAt": {
            "type": "string",
            "description": "Upload timestamp"
          }
        },
        "required": [
          "id",
          "filename",
          "size",
          "type",
          "url",
          "category",
          "uploadedAt"
        ]
      },
      "UserListParamsSchema": {
        "type": "object",
        "properties": {
          "pagination": {
            "$ref": "#/components/schemas/PaginationSchema"
          },
          "filter": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              }
            },
            "required": [
              "name"
            ]
          }
        },
        "required": [
          "pagination"
        ]
      },
      "UserDetailedSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique user identifier"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "User's email address"
          },
          "name": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100,
            "description": "User's full name"
          },
          "role": {
            "type": "string",
            "enum": [
              "user",
              "admin",
              "moderator"
            ],
            "description": "User's role in the system"
          },
          "phone": {
            "type": "string",
            "pattern": "^\\+48 \\d{3} \\d{3} \\d{3}$",
            "description": "Phone number (format: +48 XXX XXX XXX)"
          },
          "birthDate": {
            "type": "string",
            "format": "date-time",
            "description": "Date of birth"
          },
          "addresses": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AddressSchema"
            },
            "description": "List of user addresses"
          },
          "primaryAddress": {
            "type": "integer",
            "minimum": 0,
            "description": "Index of primary address"
          },
          "preferences": {
            "type": "object",
            "properties": {
              "language": {
                "type": "string",
                "enum": [
                  "pl",
                  "en",
                  "de"
                ],
                "default": "en",
                "description": "Preferred language"
              },
              "theme": {
                "type": "string",
                "enum": [
                  "light",
                  "dark",
                  "system"
                ],
                "default": "system",
                "description": "Preferred theme"
              },
              "notifications": {
                "type": "boolean",
                "default": true,
                "description": "Whether notifications are enabled"
              }
            },
            "required": [
              "language",
              "theme",
              "notifications"
            ],
            "description": "User preferences"
          },
          "paymentMethods": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PaymentMethodSchema"
            },
            "description": "Saved payment methods"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Account creation date"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Last update date"
          }
        },
        "required": [
          "id",
          "email",
          "name",
          "role",
          "createdAt",
          "updatedAt"
        ]
      },
      "UserFieldsQuery": {
        "type": "object",
        "properties": {
          "fields": {
            "type": "string",
            "description": "Comma-separated list of fields to include"
          }
        }
      },
      "UserIdParams": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "User ID"
          }
        },
        "required": [
          "id"
        ]
      },
      "UpdateUserBody": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100,
            "description": "User's full name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "User's email address"
          },
          "phone": {
            "type": "string",
            "pattern": "^\\+\\d{1,3} \\d{3} \\d{3} \\d{3}$",
            "description": "Phone number (format: +XX XXX XXX XXX)"
          },
          "preferences": {
            "type": "object",
            "properties": {
              "language": {
                "type": "string",
                "enum": [
                  "pl",
                  "en",
                  "de"
                ],
                "description": "Preferred language"
              },
              "theme": {
                "type": "string",
                "enum": [
                  "light",
                  "dark",
                  "system"
                ],
                "description": "Preferred theme"
              },
              "notifications": {
                "type": "boolean",
                "description": "Whether notifications are enabled"
              }
            },
            "description": "User preferences"
          }
        }
      },
      "PaginationMeta": {
        "type": "object",
        "properties": {
          "nextCursor": {
            "type": "string",
            "nullable": true,
            "description": "Cursor for the next page"
          },
          "hasMore": {
            "type": "boolean",
            "description": "Whether there are more items after this page"
          },
          "limit": {
            "type": "integer",
            "minimum": 0,
            "exclusiveMinimum": true,
            "description": "Number of items in this page"
          },
          "total": {
            "type": "integer",
            "minimum": 0,
            "description": "Total count of items"
          }
        },
        "required": [
          "nextCursor",
          "hasMore",
          "limit"
        ]
      },
      "PaginatedUsersSchema": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UserDetailedSchema"
            },
            "description": "Array of items"
          },
          "pagination": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PaginationMeta"
              }
            ],
            "description": "Pagination metadata"
          }
        },
        "required": [
          "data",
          "pagination"
        ]
      },
      "BaseSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Identifier"
          }
        },
        "required": [
          "id"
        ]
      },
      "PaginationSchema": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "minimum": 1
          },
          "limit": {
            "type": "integer",
            "minimum": 1
          }
        },
        "required": [
          "page",
          "limit"
        ]
      },
      "CartItemSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Cart item ID"
          },
          "productId": {
            "type": "string",
            "format": "uuid",
            "description": "Product ID"
          },
          "name": {
            "type": "string",
            "description": "Product name"
          },
          "description": {
            "type": "string",
            "description": "Product description"
          },
          "price": {
            "type": "number",
            "minimum": 0,
            "description": "Unit price"
          },
          "quantity": {
            "type": "integer",
            "minimum": 0,
            "exclusiveMinimum": true,
            "description": "Quantity"
          },
          "total": {
            "type": "number",
            "minimum": 0,
            "description": "Total price (price * quantity)"
          },
          "imageUrl": {
            "type": "string",
            "format": "uri",
            "description": "Product image URL"
          },
          "variant": {
            "type": "string",
            "description": "Product variant (e.g., size, color)"
          }
        },
        "required": [
          "id",
          "productId",
          "name",
          "price",
          "quantity",
          "total"
        ]
      },
      "EmailNotificationSchema": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "email"
            ]
          },
          "to": {
            "type": "string",
            "format": "email",
            "description": "Recipient email address"
          },
          "subject": {
            "type": "string",
            "minLength": 1,
            "description": "Email subject"
          },
          "body": {
            "type": "string",
            "description": "Email body content"
          }
        },
        "required": [
          "type",
          "to",
          "subject",
          "body"
        ]
      },
      "SmsNotificationSchema": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "sms"
            ]
          },
          "phoneNumber": {
            "type": "string",
            "description": "Phone number with country code (e.g., +1234567890)"
          },
          "message": {
            "type": "string",
            "maxLength": 160,
            "description": "SMS message (max 160 characters)"
          }
        },
        "required": [
          "type",
          "phoneNumber",
          "message"
        ]
      },
      "PushNotificationSchema": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "push"
            ]
          },
          "deviceId": {
            "type": "string",
            "description": "Device identifier for push notification"
          },
          "title": {
            "type": "string",
            "description": "Notification title"
          },
          "body": {
            "type": "string",
            "description": "Notification body"
          }
        },
        "required": [
          "type",
          "deviceId",
          "title",
          "body"
        ]
      },
      "NotificationTypeSchema": {
        "type": "string",
        "enum": [
          "email",
          "sms",
          "push"
        ]
      },
      "NotificationTypeEnumSchema": {
        "type": "string",
        "enum": [
          "email",
          "sms",
          "push"
        ]
      },
      "SuccessResponseSchema": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "success"
            ]
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "description": "Unique identifier"
              },
              "message": {
                "type": "string",
                "description": "Success message"
              }
            },
            "required": [
              "id",
              "message"
            ]
          }
        },
        "required": [
          "status",
          "data"
        ]
      },
      "ErrorResponseSchema": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "error"
            ]
          },
          "error": {
            "type": "string",
            "description": "Error message"
          },
          "code": {
            "type": "number",
            "description": "Error code"
          }
        },
        "required": [
          "status",
          "error",
          "code"
        ]
      },
      "OptionalMessageSchema": {
        "type": "string",
        "nullable": true
      },
      "OptionalMessageAlternativeSchema": {
        "type": "string",
        "nullable": true
      },
      "ProcessingStatusSchema": {
        "type": "string",
        "enum": [
          "pending",
          "processing",
          "completed",
          "failed"
        ]
      },
      "PermissionSchema": {
        "type": "string",
        "enum": [
          "read",
          "write",
          "admin"
        ]
      },
      "StringOrNumberSchema": {
        "oneOf": [
          {
            "type": "string"
          },
          {
            "type": "number"
          }
        ]
      },
      "MixedArraySchema": {
        "type": "array",
        "items": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            }
          ]
        }
      },
      "UserDataSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "User ID"
          },
          "name": {
            "type": "string",
            "description": "User name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "User email"
          }
        },
        "required": [
          "id",
          "name",
          "email"
        ]
      },
      "LoadingStateSchema": {
        "oneOf": [
          {
            "type": "string",
            "enum": [
              "loading"
            ]
          },
          {
            "type": "string",
            "enum": [
              "error"
            ]
          },
          {
            "$ref": "#/components/schemas/UserDataSchema"
          }
        ]
      },
      "CreditCardPaymentSchema": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "credit_card"
            ]
          },
          "cardNumber": {
            "type": "string",
            "description": "Credit card number"
          },
          "expiryDate": {
            "type": "string",
            "pattern": "^\\d{2}\\/\\d{2}$",
            "description": "Expiry date in MM/YY format"
          },
          "cvv": {
            "type": "string",
            "minLength": 3,
            "maxLength": 3,
            "description": "CVV code"
          }
        },
        "required": [
          "type",
          "cardNumber",
          "expiryDate",
          "cvv"
        ]
      },
      "PayPalPaymentSchema": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "paypal"
            ]
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "PayPal account email"
          }
        },
        "required": [
          "type",
          "email"
        ]
      },
      "BankTransferPaymentSchema": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "bank_transfer"
            ]
          },
          "accountNumber": {
            "type": "string",
            "description": "Bank account number"
          },
          "routingNumber": {
            "type": "string",
            "description": "Bank routing number"
          }
        },
        "required": [
          "type",
          "accountNumber",
          "routingNumber"
        ]
      },
      "PaymentMethodSchema": {
        "type": "object",
        "discriminator": {
          "propertyName": "type"
        },
        "oneOf": [
          {
            "$ref": "#/components/schemas/CreditCardPaymentSchema"
          },
          {
            "$ref": "#/components/schemas/PayPalPaymentSchema"
          },
          {
            "$ref": "#/components/schemas/BankTransferPaymentSchema"
          }
        ]
      },
      "OrderStatusSchema": {
        "type": "string",
        "enum": [
          "pending",
          "payment_processing",
          "paid",
          "preparing",
          "shipped",
          "delivered",
          "cancelled",
          "refunded"
        ],
        "description": "Order status"
      },
      "OrderStatus": {
        "type": "string",
        "enum": [
          "pending",
          "payment_processing",
          "paid",
          "preparing",
          "shipped",
          "delivered",
          "cancelled",
          "refunded"
        ],
        "description": "Order status"
      },
      "Order": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Order ID"
          },
          "userId": {
            "type": "string",
            "format": "uuid",
            "description": "User ID"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CartItemSchema"
            },
            "description": "Purchased products"
          },
          "shippingAddress": {
            "allOf": [
              {
                "$ref": "#/components/schemas/AddressSchema"
              }
            ],
            "description": "Shipping address"
          },
          "billingAddress": {
            "allOf": [
              {
                "$ref": "#/components/schemas/AddressSchema"
              }
            ],
            "description": "Billing address (can be the same as shipping address)"
          },
          "paymentMethod": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PaymentMethodSchema"
              }
            ],
            "description": "Payment method"
          },
          "status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/OrderStatusSchema"
              }
            ],
            "description": "Order status"
          },
          "subtotal": {
            "type": "number",
            "minimum": 0,
            "description": "Subtotal (without discount and shipping)"
          },
          "discountAmount": {
            "type": "number",
            "minimum": 0,
            "default": 0,
            "description": "Discount amount"
          },
          "shippingCost": {
            "type": "number",
            "minimum": 0,
            "description": "Shipping cost"
          },
          "tax": {
            "type": "number",
            "minimum": 0,
            "description": "Tax"
          },
          "total": {
            "type": "number",
            "minimum": 0,
            "description": "Total amount"
          },
          "notes": {
            "type": "string",
            "description": "Additional notes"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Order creation date"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Last update date"
          },
          "paymentDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "Payment date"
          },
          "shippingDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "Shipping date"
          },
          "deliveryDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "Delivery date"
          }
        },
        "required": [
          "id",
          "userId",
          "items",
          "shippingAddress",
          "billingAddress",
          "paymentMethod",
          "status",
          "subtotal",
          "discountAmount",
          "shippingCost",
          "tax",
          "total",
          "createdAt",
          "updatedAt",
          "paymentDate",
          "shippingDate",
          "deliveryDate"
        ]
      },
      "OrdersQuery": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "minimum": 0,
            "exclusiveMinimum": true,
            "default": 1,
            "description": "Page number"
          },
          "limit": {
            "type": "integer",
            "minimum": 0,
            "exclusiveMinimum": true,
            "maximum": 100,
            "default": 20,
            "description": "Results per page"
          },
          "status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/OrderStatusSchema"
              }
            ],
            "description": "Filter by status"
          },
          "dateFrom": {
            "type": "string",
            "format": "date-time",
            "description": "Filter orders from date"
          },
          "dateTo": {
            "type": "string",
            "format": "date-time",
            "description": "Filter orders to date"
          },
          "sort": {
            "type": "string",
            "enum": [
              "date_asc",
              "date_desc",
              "total_asc",
              "total_desc"
            ],
            "default": "date_desc",
            "description": "Sort results"
          }
        }
      },
      "CreateOrder": {
        "type": "object",
        "properties": {
          "cartId": {
            "type": "string",
            "format": "uuid",
            "description": "Cart ID"
          },
          "shippingAddressId": {
            "type": "integer",
            "description": "ID of shipping address from user profile"
          },
          "billingAddressId": {
            "type": "integer",
            "description": "ID of billing address from user profile"
          },
          "shippingAddress": {
            "type": "object",
            "description": "New shipping address"
          },
          "billingAddress": {
            "type": "object",
            "description": "New billing address"
          },
          "useShippingAsBilling": {
            "type": "boolean",
            "default": true,
            "description": "Use shipping address as billing address"
          },
          "paymentMethodId": {
            "type": "integer",
            "description": "ID of saved payment method"
          },
          "paymentMethod": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PaymentMethodSchema"
              }
            ],
            "description": "New payment method"
          },
          "notes": {
            "type": "string",
            "description": "Additional order notes"
          }
        },
        "required": [
          "cartId"
        ]
      },
      "UserBaseSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique user identifier"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "User's email address"
          },
          "name": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100,
            "description": "User's full name"
          },
          "role": {
            "type": "string",
            "enum": [
              "user",
              "admin",
              "moderator"
            ],
            "description": "User's role in the system"
          }
        },
        "required": [
          "id",
          "email",
          "name",
          "role"
        ]
      },
      "AddressSchema": {
        "type": "object",
        "properties": {
          "street": {
            "type": "string",
            "description": "Street name"
          },
          "houseNumber": {
            "type": "string",
            "description": "House/apartment number"
          },
          "city": {
            "type": "string",
            "description": "City"
          },
          "postalCode": {
            "type": "string",
            "pattern": "^\\d{2}-\\d{3}$",
            "description": "Postal code (format: XX-XXX)"
          },
          "country": {
            "type": "string",
            "default": "Poland",
            "description": "Country"
          }
        },
        "required": [
          "street",
          "houseNumber",
          "city",
          "postalCode",
          "country"
        ]
      },
      "UserProfileSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID"
          },
          "username": {
            "type": "string",
            "description": "Username"
          },
          "firstName": {
            "type": "string",
            "nullable": true,
            "description": "First name"
          },
          "middleName": {
            "type": "string",
            "nullable": true,
            "description": "Middle name"
          }
        },
        "required": [
          "id",
          "firstName"
        ]
      },
      "PaymentMethod": {
        "type": "object",
        "discriminator": {
          "propertyName": "type"
        },
        "oneOf": [
          {
            "$ref": "#/components/schemas/CreditCardPaymentSchema"
          },
          {
            "$ref": "#/components/schemas/PayPalPaymentSchema"
          },
          {
            "$ref": "#/components/schemas/BankTransferPaymentSchema"
          }
        ]
      },
      "ProductCategorySchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Category identifier"
          },
          "name": {
            "type": "string",
            "minLength": 1,
            "description": "Category name"
          },
          "slug": {
            "type": "string",
            "description": "Category slug used in URLs"
          }
        },
        "required": [
          "id",
          "name",
          "slug"
        ]
      },
      "ProductVariantSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Variant identifier"
          },
          "name": {
            "type": "string",
            "minLength": 1,
            "description": "Variant name"
          },
          "sku": {
            "type": "string",
            "description": "Variant SKU code"
          },
          "price": {
            "type": "number",
            "minimum": 0,
            "exclusiveMinimum": true,
            "description": "Variant price"
          },
          "stock": {
            "type": "integer",
            "minimum": 0,
            "description": "Stock quantity"
          },
          "attributes": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Variant attributes (color, size, etc.)"
          }
        },
        "required": [
          "id",
          "name",
          "sku",
          "price",
          "stock",
          "attributes"
        ]
      },
      "UploadFormData": {
        "type": "object",
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "description": "Image file (PNG/JPG, max 5MB)"
          },
          "description": {
            "type": "string",
            "description": "Optional file description"
          },
          "category": {
            "type": "string",
            "minLength": 1,
            "description": "File category (required)"
          }
        },
        "required": [
          "file",
          "category"
        ]
      },
      "UploadResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Upload ID"
          },
          "filename": {
            "type": "string",
            "description": "Original filename"
          },
          "size": {
            "type": "number",
            "description": "File size in bytes"
          },
          "type": {
            "type": "string",
            "description": "MIME type"
          },
          "url": {
            "type": "string",
            "format": "uri",
            "description": "File access URL"
          },
          "category": {
            "type": "string",
            "description": "File category"
          },
          "description": {
            "type": "string",
            "description": "File description"
          },
          "uploadedAt": {
            "type": "string",
            "description": "Upload timestamp"
          }
        },
        "required": [
          "id",
          "filename",
          "size",
          "type",
          "url",
          "category",
          "uploadedAt"
        ]
      },
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique user identifier"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "User's email address"
          },
          "name": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100,
            "description": "User's full name"
          },
          "role": {
            "type": "string",
            "enum": [
              "user",
              "admin",
              "moderator"
            ],
            "description": "User's role in the system"
          }
        },
        "required": [
          "id",
          "email",
          "name",
          "role"
        ]
      },
      "UserDetailed": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique user identifier"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "User's email address"
          },
          "name": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100,
            "description": "User's full name"
          },
          "role": {
            "type": "string",
            "enum": [
              "user",
              "admin",
              "moderator"
            ],
            "description": "User's role in the system"
          },
          "phone": {
            "type": "string",
            "pattern": "^\\+48 \\d{3} \\d{3} \\d{3}$",
            "description": "Phone number (format: +48 XXX XXX XXX)"
          },
          "birthDate": {
            "type": "string",
            "format": "date-time",
            "description": "Date of birth"
          },
          "addresses": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AddressSchema"
            },
            "description": "List of user addresses"
          },
          "primaryAddress": {
            "type": "integer",
            "minimum": 0,
            "description": "Index of primary address"
          },
          "preferences": {
            "type": "object",
            "properties": {
              "language": {
                "type": "string",
                "enum": [
                  "pl",
                  "en",
                  "de"
                ],
                "default": "en",
                "description": "Preferred language"
              },
              "theme": {
                "type": "string",
                "enum": [
                  "light",
                  "dark",
                  "system"
                ],
                "default": "system",
                "description": "Preferred theme"
              },
              "notifications": {
                "type": "boolean",
                "default": true,
                "description": "Whether notifications are enabled"
              }
            },
            "required": [
              "language",
              "theme",
              "notifications"
            ],
            "description": "User preferences"
          },
          "paymentMethods": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PaymentMethodSchema"
            },
            "description": "Saved payment methods"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Account creation date"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Last update date"
          }
        },
        "required": [
          "id",
          "email",
          "name",
          "role",
          "createdAt",
          "updatedAt"
        ]
      },
      "Address": {
        "type": "object",
        "properties": {
          "street": {
            "type": "string",
            "description": "Street name"
          },
          "houseNumber": {
            "type": "string",
            "description": "House/apartment number"
          },
          "city": {
            "type": "string",
            "description": "City"
          },
          "postalCode": {
            "type": "string",
            "pattern": "^\\d{2}-\\d{3}$",
            "description": "Postal code (format: XX-XXX)"
          },
          "country": {
            "type": "string",
            "default": "Poland",
            "description": "Country"
          }
        },
        "required": [
          "street",
          "houseNumber",
          "city",
          "postalCode",
          "country"
        ]
      }
    },
    "responses": {
      "400": {
        "description": "Bad request",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": false
                },
                "error": {
                  "type": "string",
                  "example": "Validation error"
                }
              }
            }
          }
        }
      },
      "401": {
        "description": "Unauthorized",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": false
                },
                "error": {
                  "type": "string",
                  "example": "Unathorized"
                }
              }
            }
          }
        }
      },
      "500": {
        "description": "Internal server error",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": false
                },
                "error": {
                  "type": "string",
                  "example": "Something went wrong"
                }
              }
            }
          }
        }
      }
    }
  },
  "paths": {
    "/extended": {
      "get": {
        "operationId": "get-extended",
        "summary": "Get nested schema example\r",
        "description": "Retrieve nested schema data to test $ref generation",
        "tags": [
          "Extended"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Returns nested schema with base schema reference",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NestedSchema"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      },
      "post": {
        "operationId": "post-extended",
        "summary": "Create extended schema\r",
        "description": "Create a new item with extended schema to test .extend() functionality",
        "tags": [
          "Extended"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExtendedSchema"
              }
            }
          },
          "description": "Extended schema with base and additional properties"
        },
        "responses": {
          "201": {
            "description": "Returns the created extended schema",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExtendedSchema"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      },
      "put": {
        "operationId": "put-extended",
        "summary": "Update double extended schema\r",
        "description": "Update with double extended schema to test deep inheritance",
        "tags": [
          "Extended"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DoubleExtendedSchema"
              }
            }
          },
          "description": "Double extended schema with multiple levels of inheritance"
        },
        "responses": {
          "200": {
            "description": "Returns the updated double extended schema",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DoubleExtendedSchema"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      }
    },
    "/notifications": {
      "get": {
        "operationId": "get-notifications",
        "summary": "Get notification status\r",
        "description": "Returns success or error response (demonstrates Zod discriminated union)",
        "tags": [
          "Notifications"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseSchema"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      },
      "post": {
        "operationId": "post-notifications",
        "summary": "Send a notification\r",
        "description": "Send notification via email, SMS, or push (demonstrates Zod discriminated unions with validation)",
        "tags": [
          "Notifications"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotificationSchema"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseSchema:Notification sent successfully"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseSchema"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      }
    },
    "/orders": {
      "get": {
        "operationId": "getOrdersList",
        "summary": "Get orders list\r",
        "description": "Retrieves a paginated list of orders with filtering and sorting options",
        "tags": [
          "Orders"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "description": "Page number"
            },
            "required": false,
            "description": "Page number"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "description": "Results per page"
            },
            "required": false,
            "description": "Results per page"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "description": "Filter by status"
            },
            "required": false,
            "description": "Filter by status"
          },
          {
            "in": "query",
            "name": "dateFrom",
            "schema": {
              "type": "string",
              "description": "Filter orders from date"
            },
            "required": false,
            "description": "Filter orders from date"
          },
          {
            "in": "query",
            "name": "dateTo",
            "schema": {
              "type": "string",
              "description": "Filter orders to date"
            },
            "required": false,
            "description": "Filter orders to date"
          },
          {
            "in": "query",
            "name": "sort",
            "schema": {
              "type": "string",
              "enum": [
                "date_asc",
                "date_desc",
                "total_asc",
                "total_desc"
              ],
              "description": "Sort results"
            },
            "required": false,
            "description": "Sort results"
          }
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrdersResponse"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      },
      "post": {
        "operationId": "createOrder",
        "summary": "Create order\r",
        "description": "Creates a new order from cart",
        "tags": [
          "Orders"
        ],
        "parameters": [],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateOrderBody"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrderSchema"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      }
    },
    "/orders/{id}": {
      "get": {
        "operationId": "get-orders-{id}",
        "summary": "Path parameters schema",
        "description": "Retrieves detailed order information",
        "tags": [
          "Orders"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string",
              "description": "Order ID"
            },
            "required": true,
            "description": "Order ID",
            "example": "123"
          }
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrderSchema"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      },
      "patch": {
        "operationId": "patch-orders-{id}",
        "summary": "Update order status\r",
        "description": "Updates the status of an order",
        "tags": [
          "Orders"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string",
              "description": "Order ID"
            },
            "required": true,
            "description": "Order ID",
            "example": "123"
          }
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateOrderStatusBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrderSchema"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      },
      "delete": {
        "operationId": "delete-orders-{id}",
        "summary": "Cancel order\r",
        "description": "Cancels an order if it's not already delivered",
        "tags": [
          "Orders"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string",
              "description": "Order ID"
            },
            "required": true,
            "description": "Order ID",
            "example": "123"
          }
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      }
    },
    "/products/{id}": {
      "get": {
        "operationId": "get-products-{id}",
        "summary": "Get product\r",
        "description": "Retrieves detailed product information by ID",
        "tags": [
          "Products"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "include_variants",
            "schema": {
              "type": "boolean",
              "description": "Whether to include product variants"
            },
            "required": false,
            "description": "Whether to include product variants"
          },
          {
            "in": "query",
            "name": "currency",
            "schema": {
              "type": "string",
              "enum": [
                "USD",
                "EUR",
                "PLN"
              ],
              "description": "Currency for prices"
            },
            "required": false,
            "description": "Currency for prices"
          },
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string",
              "description": "Unique product identifier"
            },
            "required": true,
            "description": "Unique product identifier",
            "example": "123"
          }
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponseSchema"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      },
      "patch": {
        "operationId": "patch-products-{id}",
        "summary": "Update product\r",
        "description": "Updates an existing product",
        "tags": [
          "Products"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string",
              "description": "Unique product identifier"
            },
            "required": true,
            "description": "Unique product identifier",
            "example": "123"
          }
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProductSchema"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponseSchema"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      },
      "delete": {
        "operationId": "delete-products-{id}",
        "summary": "Delete product\r",
        "description": "Removes a product from the system",
        "tags": [
          "Products"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string",
              "description": "Unique product identifier"
            },
            "required": true,
            "description": "Unique product identifier",
            "example": "123"
          }
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      }
    },
    "/upload": {
      "post": {
        "operationId": "post-upload",
        "summary": "Upload image file\r",
        "description": "Uploads PNG or JPG image files with validation and metadata",
        "tags": [
          "Uploads"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/UploadFormDataSchema"
              }
            }
          },
          "description": "Multipart form data containing image file (PNG/JPG, max 5MB), optional description and category"
        },
        "responses": {
          "201": {
            "description": "Returns upload confirmation with file metadata and access URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadResponseSchema"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      }
    },
    "/users": {
      "get": {
        "operationId": "get-users",
        "summary": "Get users\r",
        "description": "Retrieve users",
        "tags": [
          "Users"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "pagination",
            "schema": {},
            "required": false
          },
          {
            "in": "query",
            "name": "filter",
            "schema": {
              "type": "object"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Response users list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDetailedSchema"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      }
    },
    "/users/{id}": {
      "get": {
        "operationId": "get-users-{id}",
        "summary": "Get user by ID\r",
        "description": "Retrieves detailed user information",
        "tags": [
          "Users"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "fields",
            "schema": {
              "type": "string",
              "description": "Comma-separated list of fields to include"
            },
            "required": false,
            "description": "Comma-separated list of fields to include"
          },
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string",
              "description": "User ID"
            },
            "required": true,
            "description": "User ID",
            "example": "123"
          }
        ],
        "responses": {
          "200": {
            "description": "Return user details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDetailedSchema"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      },
      "patch": {
        "operationId": "patch-users-{id}",
        "summary": "Update user\r",
        "description": "Updates user information",
        "tags": [
          "Users"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string",
              "description": "User ID"
            },
            "required": true,
            "description": "User ID",
            "example": "123"
          }
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Update user info",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDetailedSchema"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      },
      "delete": {
        "operationId": "delete-users-{id}",
        "summary": "Delete user\r",
        "description": "Deletes a user account",
        "tags": [
          "Users"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string",
              "description": "User ID"
            },
            "required": true,
            "description": "User ID",
            "example": "123"
          }
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      }
    },
    "/users-paginated": {
      "get": {
        "operationId": "get-users-paginated",
        "summary": "Get paginated users\r",
        "description": "Retrieve users with cursor-based pagination using factory-generated schema",
        "tags": [
          "Users-paginated"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "nextCursor",
            "schema": {
              "type": "string",
              "description": "Cursor for the next page"
            },
            "required": false,
            "description": "Cursor for the next page"
          },
          {
            "in": "query",
            "name": "hasMore",
            "schema": {
              "type": "boolean",
              "description": "Whether there are more items after this page"
            },
            "required": false,
            "description": "Whether there are more items after this page"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "description": "Number of items in this page"
            },
            "required": false,
            "description": "Number of items in this page"
          },
          {
            "in": "query",
            "name": "total",
            "schema": {
              "type": "integer",
              "description": "Total count of items"
            },
            "required": false,
            "description": "Total count of items"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedUsersSchema"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      }
    }
  }
}